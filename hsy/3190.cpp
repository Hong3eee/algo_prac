#include<iostream>#include<list>using namespace std;int dx[4] = { 1,0,-1,0 };int dy[4] = { 0,1,0,-1 };int board[101][101] = { 0, };int main(void){		int c = 0;	int N, K, L;	int temp_x, temp_y,temp_t;	char temp_d;	int x=1, y=1,dir=0;	char change[10001] = { '0', };	list<pair<int, int> > s;		s.push_back(make_pair(y, x));	board[y][x] = 1;	cin >> N >> K;		for (int i = 0; i < K; i++)	{		cin >> temp_y >> temp_x;		board[temp_y][temp_x] = 2;	}	cin >> L;	for (int i = 0; i < L; i++)	{		cin >> temp_t >> temp_d;		change[temp_t] = temp_d;	}		while (1)	{		c++;		y = y + dy[dir];		x = x + dx[dir];				if (board[y][x] == 1 || y > N || x>N || y<1 || x<1)			break;		else if (board[y][x] == 2)			board[y][x] = 1;		else		{			board[y][x] = 1;			board[s.front().first][s.front().second] = 0;			s.pop_front();		}		s.push_back(make_pair(y, x));		if (change[c] == 'L')			dir = (dir + 3) % 4;		else if (change[c] == 'D')			dir = (dir + 1) % 4;	}	cout << c << endl;}